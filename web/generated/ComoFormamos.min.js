/*! ComoFormamos - v0.1.0 - 2012-08-21
* http://comoformamos.appspot.com/
* Copyright (c) 2012 Tomas Alabes; Licensed MIT */
var paletteOptions={estrellita:{color:"yellow",path:"M16,22.375L7.116,28.83l3.396-10.438l-8.883-6.458l10.979,0.002L16.002,1.5l3.391,10.434h10.981l-8.886,6.457l3.396,10.439L16,22.375L16,22.375z"},motorcito:{color:"grey",path:"M17.41,20.395l-0.778-2.723c0.228-0.2,0.442-0.414,0.644-0.643l2.721,0.778c0.287-0.418,0.534-0.862,0.755-1.323l-2.025-1.96c0.097-0.288,0.181-0.581,0.241-0.883l2.729-0.684c0.02-0.252,0.039-0.505,0.039-0.763s-0.02-0.51-0.039-0.762l-2.729-0.684c-0.061-0.302-0.145-0.595-0.241-0.883l2.026-1.96c-0.222-0.46-0.469-0.905-0.756-1.323l-2.721,0.777c-0.201-0.228-0.416-0.442-0.644-0.643l0.778-2.722c-0.418-0.286-0.863-0.534-1.324-0.755l-1.96,2.026c-0.287-0.097-0.581-0.18-0.883-0.241l-0.683-2.73c-0.253-0.019-0.505-0.039-0.763-0.039s-0.51,0.02-0.762,0.039l-0.684,2.73c-0.302,0.061-0.595,0.144-0.883,0.241l-1.96-2.026C7.048,3.463,6.604,3.71,6.186,3.997l0.778,2.722C6.736,6.919,6.521,7.134,6.321,7.361L3.599,6.583C3.312,7.001,3.065,7.446,2.844,7.907l2.026,1.96c-0.096,0.288-0.18,0.581-0.241,0.883l-2.73,0.684c-0.019,0.252-0.039,0.505-0.039,0.762s0.02,0.51,0.039,0.763l2.73,0.684c0.061,0.302,0.145,0.595,0.241,0.883l-2.026,1.96c0.221,0.46,0.468,0.905,0.755,1.323l2.722-0.778c0.2,0.229,0.415,0.442,0.643,0.643l-0.778,2.723c0.418,0.286,0.863,0.533,1.323,0.755l1.96-2.026c0.288,0.097,0.581,0.181,0.883,0.241l0.684,2.729c0.252,0.02,0.505,0.039,0.763,0.039s0.51-0.02,0.763-0.039l0.683-2.729c0.302-0.061,0.596-0.145,0.883-0.241l1.96,2.026C16.547,20.928,16.992,20.681,17.41,20.395zM11.798,15.594c-1.877,0-3.399-1.522-3.399-3.399s1.522-3.398,3.399-3.398s3.398,1.521,3.398,3.398S13.675,15.594,11.798,15.594zM27.29,22.699c0.019-0.547-0.06-1.104-0.23-1.654l1.244-1.773c-0.188-0.35-0.4-0.682-0.641-0.984l-2.122,0.445c-0.428-0.364-0.915-0.648-1.436-0.851l-0.611-2.079c-0.386-0.068-0.777-0.105-1.173-0.106l-0.974,1.936c-0.279,0.054-0.558,0.128-0.832,0.233c-0.257,0.098-0.497,0.22-0.727,0.353L17.782,17.4c-0.297,0.262-0.568,0.545-0.813,0.852l0.907,1.968c-0.259,0.495-0.437,1.028-0.519,1.585l-1.891,1.06c0.019,0.388,0.076,0.776,0.164,1.165l2.104,0.519c0.231,0.524,0.541,0.993,0.916,1.393l-0.352,2.138c0.32,0.23,0.66,0.428,1.013,0.6l1.715-1.32c0.536,0.141,1.097,0.195,1.662,0.15l1.452,1.607c0.2-0.057,0.399-0.118,0.596-0.193c0.175-0.066,0.34-0.144,0.505-0.223l0.037-2.165c0.455-0.339,0.843-0.747,1.152-1.206l2.161-0.134c0.152-0.359,0.279-0.732,0.368-1.115L27.29,22.699zM23.127,24.706c-1.201,0.458-2.545-0.144-3.004-1.345s0.143-2.546,1.344-3.005c1.201-0.458,2.547,0.144,3.006,1.345C24.931,22.902,24.328,24.247,23.127,24.706z"},muerto:{color:"grey",path:"M25.947,11.14c0-5.174-3.979-9.406-10.613-9.406c-6.633,0-10.282,4.232-10.282,9.406c0,5.174,1.459,4.511,1.459,7.43c0,1.095-1.061,0.564-1.061,2.919c0,2.587,3.615,2.223,4.677,3.283c1.061,1.062,0.961,3.019,0.961,3.019s0.199,0.796,0.564,0.563c0,0,0.232,0.564,0.498,0.232c0,0,0.265,0.563,0.531,0.1c0,0,0.265,0.631,0.696,0.166c0,0,0.431,0.63,0.929,0.133c0,0,0.564,0.53,1.194,0.133c0.63,0.397,1.194-0.133,1.194-0.133c0.497,0.497,0.929-0.133,0.929-0.133c0.432,0.465,0.695-0.166,0.695-0.166c0.268,0.464,0.531-0.1,0.531-0.1c0.266,0.332,0.498-0.232,0.498-0.232c0.365,0.232,0.564-0.563,0.564-0.563s-0.1-1.957,0.961-3.019c1.062-1.061,4.676-0.696,4.676-3.283c0-2.354-1.061-1.824-1.061-2.919C24.488,15.651,25.947,16.314,25.947,11.14zM10.333,20.992c-1.783,0.285-2.59-0.215-2.785-1.492c-0.508-3.328,2.555-3.866,4.079-3.683c0.731,0.088,1.99,0.862,1.99,1.825C13.617,20.229,11.992,20.727,10.333,20.992zM16.461,25.303c-0.331,0-0.862-0.431-0.895-1.227c-0.033,0.796-0.63,1.227-0.961,1.227c-0.332,0-0.83-0.331-0.863-1.127c-0.033-0.796,1.028-4.013,1.792-4.013c0.762,0,1.824,3.217,1.791,4.013S16.794,25.303,16.461,25.303zM23.361,19.5c-0.195,1.277-1.004,1.777-2.787,1.492c-1.658-0.266-3.283-0.763-3.283-3.35c0-0.963,1.258-1.737,1.99-1.825C20.805,15.634,23.869,16.172,23.361,19.5z"},magico:{color:"white",path:"M23.043,4.649l-0.404-2.312l-1.59,1.727l-2.323-0.33l1.151,2.045l-1.032,2.108l2.302-0.463l1.686,1.633l0.271-2.332l2.074-1.099L23.043,4.649zM26.217,18.198l-0.182-1.25l-0.882,0.905l-1.245-0.214l0.588,1.118l-0.588,1.118l1.245-0.214l0.882,0.905l0.182-1.25l1.133-0.56L26.217,18.198zM4.92,7.672L5.868,7.3l0.844,0.569L6.65,6.853l0.802-0.627L6.467,5.97L6.118,5.013L5.571,5.872L4.553,5.908l0.647,0.786L4.92,7.672zM10.439,10.505l1.021-1.096l1.481,0.219l-0.727-1.31l0.667-1.341l-1.47,0.287l-1.069-1.048L10.16,7.703L8.832,8.396l1.358,0.632L10.439,10.505zM17.234,12.721c-0.588-0.368-1.172-0.618-1.692-0.729c-0.492-0.089-1.039-0.149-1.425,0.374L2.562,30.788h6.68l9.669-15.416c0.303-0.576,0.012-1.041-0.283-1.447C18.303,13.508,17.822,13.09,17.234,12.721zM13.613,21.936c-0.254-0.396-0.74-0.857-1.373-1.254c-0.632-0.396-1.258-0.634-1.726-0.69l4.421-7.052c0.064-0.013,0.262-0.021,0.543,0.066c0.346,0.092,0.785,0.285,1.225,0.562c0.504,0.313,0.908,0.677,1.133,0.97c0.113,0.145,0.178,0.271,0.195,0.335c0.002,0.006,0.004,0.011,0.004,0.015L13.613,21.936z"},calenton:{color:"red",path:"M17.5,19.508V8.626h-3.999v10.881c-1.404,0.727-2.375,2.178-2.375,3.869c0,2.416,1.959,4.375,4.375,4.375s4.375-1.959,4.375-4.375C19.876,21.686,18.905,20.234,17.5,19.508zM20.5,5.249c0-2.757-2.244-5-5.001-5s-4.998,2.244-4.998,5v12.726c-1.497,1.373-2.376,3.314-2.376,5.4c0,4.066,3.31,7.377,7.376,7.377s7.374-3.311,7.374-7.377c0-2.086-0.878-4.029-2.375-5.402V5.249zM20.875,23.377c0,2.963-2.41,5.373-5.375,5.373c-2.962,0-5.373-2.41-5.373-5.373c0-1.795,0.896-3.443,2.376-4.438V5.251c0-1.654,1.343-3,2.997-3s3,1.345,3,3v13.688C19.979,19.934,20.875,21.582,20.875,23.377zM22.084,8.626l4.5,2.598V6.029L22.084,8.626z"}},loadPitch=function(a){var b=[{path:"M415,567.5H20c-11.047,0-20-8.001-20-17.874 V17.874C0,8.001,8.953,0,20,0h395c11.047,0,20,8.001,20,17.874v531.752C435,559.499,426.047,567.5,415,567.5z",stroke:"none",fill:"#008000",type:"path",opacity:.75},{path:"M17.5,529.518h400v-22.343h-400V529.518z M17.5,484.833h400V462.49h-400V484.833z M17.5,440.146h400v-22.342h-400V440.146z M17.5,395.463h400V373.12h-400V395.463z M17.5,350.777h400v-22.344h-400V350.777z M17.5,306.093h400V283.75h-400V306.093z M17.5,261.407h400v-22.342h-400V261.407z M17.5,216.723h400V194.38h-400V216.723z M17.5,172.038h400v-22.343h-400V172.038z M17.5,127.353h400V105.01h-400V127.353z M17.5,82.667h400V60.324h-400V82.667z M17.5,37.982h400V15.639h-400V37.982z",stroke:"none",fill:"#008000",type:"path",opacity:.125},{path:"M15,507.594h2.5v39.799v4.469h5h44.531v2.234H67.5v-2.234h40h220h40v2.234h0.469v-2.234 H417.5v-44.268h2.5v-0.419h-2.5V60.325h2.5v-0.419h-2.5V15.64h-49.531v-2.234H367.5v2.234h-300v-2.234h-0.469v2.234H17.5v44.266H15 v0.419h2.5v446.85H15V507.594z M17.969,551.441v-3.631c2.078,0.213,3.824,1.772,4.062,3.631H17.969z M17.969,547.393V284.029H167.5 c0.168,24.538,22.504,44.405,50,44.405s49.836-19.867,50-44.405h149.531c0,87.22,0,176.918,0,263.362 c-2.344,0.217-4.289,1.955-4.531,4.051h-85v-80.016h-70c-9.121-10.871-23.633-17.874-40-17.874c-16.363,0-30.875,7.003-40,17.874 h-5h-65v80.016h-85C22.258,549.348,20.312,547.607,17.969,547.393z M17.969,283.471V20.109c2.344-0.217,4.289-1.955,4.531-4.05h85 v80.014h65h5c9.125,10.875,23.637,17.874,40,17.874c16.367,0,30.879-7,40-17.874h5h65V16.059h85 c0.242,2.095,2.188,3.833,4.531,4.05v263.362H267.5c-0.164-24.538-22.504-44.406-50-44.406s-49.832,19.868-50,44.406H17.969z M17.969,19.689v-3.631h4.062C21.793,17.916,20.047,19.477,17.969,19.689z M107.969,551.441v-79.597H172.5h90h64.531v79.597H267.5 v-26.394h-100v26.394H107.969z M107.969,95.654V16.059H167.5v26.392h100V16.059h59.531v79.595H107.969z M167.969,551.441v-25.975 h99.062v25.975H167.969z M167.969,284.029h48.594c0.129,0.36,0.492,0.559,0.938,0.559s0.81-0.199,0.938-0.559h48.594 c-0.172,24.29-22.312,43.987-49.531,43.987S168.141,308.318,167.969,284.029z M167.969,283.471 c0.172-24.29,22.312-43.987,49.531-43.987c27.219,0,49.359,19.697,49.531,43.987h-48.594c-0.129-0.359-0.492-0.559-0.938-0.559 s-0.809,0.199-0.938,0.559H167.969z M167.969,42.032V16.059h99.062v25.973H167.969z M178.125,471.427 c9.055-10.595,23.328-17.454,39.375-17.454s30.32,6.859,39.375,17.454H178.125z M178.125,96.073h78.75 c-9.055,10.595-23.328,17.455-39.375,17.455S187.18,106.668,178.125,96.073z M216.562,498.238c0,0.492,0.387,0.838,0.938,0.838 s0.938-0.346,0.938-0.838s-0.387-0.838-0.938-0.838S216.562,497.746,216.562,498.238z M216.562,69.262 c0,0.492,0.387,0.838,0.938,0.838s0.938-0.346,0.938-0.838c0-0.492-0.387-0.838-0.938-0.838S216.562,68.77,216.562,69.262z M412.969,551.441c0.238-1.857,1.984-3.418,4.062-3.631c0,1.189,0,2.439,0,3.631H412.969z M412.969,16.059h4.062v3.631 C414.953,19.477,413.207,17.916,412.969,16.059z",stroke:"none",fill:"#FFFFFF",type:"path"}],c=a.add(b);return c.transform("T150,0"),c},MyRaphaelUtils={start:function(){this.ox=0,this.oy=0,this.animate({opacity:.5},500)},paletteStart:function(){this.ox=0,this.oy=0;var a=this.clone();optionsSet.exclude(this),optionsSet.push(a),MyRaphaelUtils.addDragAndDropCapabilityToPaletteOption(a),this.animate({opacity:.5},500)},move:function(a,b){var c=a-this.ox,d=b-this.oy;this.transform("...T"+c+","+d),this.ox=a,this.oy=b},paletteUp:function(){MyRaphaelUtils.isInsideCanvas(this)?(this.undrag(),MyRaphaelUtils.addDragAndDropCapabilityToSet(this),this.animate({opacity:1},500),eve("playerDropped",this,this)):this.remove()},up:function(){MyRaphaelUtils.isInsideCanvas(this)||this.animate({transform:"...T"+ -this.ox+","+ -this.oy},1e3,"bounce"),this.animate({opacity:1},500)},isInsideCanvas:function(a){var b=pitch.getBBox(),c=a.getBBox(),d=!Raphael.isPointInsideBBox(b,c.x,c.y)||!Raphael.isPointInsideBBox(b,c.x,c.y2)||!Raphael.isPointInsideBBox(b,c.x2,c.y)||!Raphael.isPointInsideBBox(b,c.x2,c.y2);return!d},addDragAndDropCapabilityToSet:function(a){a.drag(this.move,this.start,this.up,a,a,a)},addDragAndDropCapabilityToPaletteOption:function(a){a.drag(this.move,this.paletteStart,this.paletteUp,a,a,a)}},modelViewMap=[],playerCounter=0,selectedTeamSize=5;$(function(){function z(a){var b=_.find(x.models,function(b){var c=b.get("playerId");return c===a});x.remove(b)}function A(a){z(a.playerId),a.remove()}paper=Raphael("canvas_container","598.28351","600"),pitch=loadPitch(paper),optionsSet=paper.set();var a=paper.rect(0,0,120,pitch.getBBox().height,10);optionsSet.push(a);var b=1,c=30,d=[{stroke:"#000000",fill:"#FFFFFF",type:"path",path:" M-273.116,167.96c-1.092,0.845-3.014-0.161-3.729,0.967c-0.334,0.527-1.562,0.979-0.549,1.325c0.979,0.334-1.116,0.928,0.478,1.063 c0.961,0.083,2.382,1.271,1.838,2.055c-0.612,0.885,0.427,0.892,0.524,1.497c0.089,0.546,1.383,0.562,1.86,0.188 c0.712-0.554,0.159-1.557,0.763-2.24c0.564-0.643,0.454-1.646,1.005-2.25c1.477-1.618,4.104-1.453,6.067-2.43 c0.751-0.372,1.268-0.983,2.203-1.037c1.615-0.091,3.554-1.952,4.588-1.519c1.554,0.65,2.808,4.206,4.717,5.892 c1.596,1.403,4.387,2.688,4.863,4.08c0.234,0.68,0.547,1.273,1.003,1.685c0.842,0.754,2.348,0.66,2.675-0.586 c0.321-1.219-0.159-2.709,0.906-3.583c0.93-0.761,0.997-1.854,1.119-2.92c0,0-0.52-1.514-1.289-0.999 c-0.974,0.65-1.422,1.772-2.354,2.371c-0.828,0.533-1.891,0.011-2.462-0.872c-0.896-1.381-1.888-2.719-2.767-4.11 c-0.641-1.014-1.74-1.688-1.882-3.036c-0.188-1.761-1.567-3.345-2.776-4.687c-0.728-0.808-1.989-1.454-2.227-2.455 c-0.326-1.384-0.181-3.149-0.896-4.305c-0.545-0.881,0.066-1.602-0.319-2.376c-0.452-0.905,0.354-1.243,0.847-1.775 c0.582-0.629-0.591-1.221-0.178-2.16c0.516-1.172,1.103-3.455,1.755-3.42c1.056,0.056,3.922,1.392,5.979,1.838 c1.115,0.242,2.564,0.063,3.366,0.761c1.05,0.911,3.111,1.269,3.875,0.328c0.458-0.562,1.008-1.44,0.521-2.298 c-0.457-0.805-1.34-1.438-1.994-0.847c-1.615,1.458-3.572-0.032-5.172-0.598c-1.097-0.388-2.301-0.91-2.979-1.766 c-0.677-0.854,0.271-2.187,0.108-3.229c-0.177-1.125-0.15-2.257,0.609-2.956c0.687-0.627,1.265-0.403,2.048-0.326 c0.842,0.084,0.069-2.305,1.183-2.748c0.893-0.355,0.823-1.939,0.711-2.9c-0.216-1.844-1.458-3.075-3.164-3.55 c-1.514-0.421-2.88,0.195-3.784,1.032c-0.903,0.838-1.894,2.134-2.279,2.449c-0.334,0.272-1.303-0.376-1.673,0.553 c-0.3,0.754-2.029-0.3-2.754-0.376c-2.226-0.235-3.934,1.538-5.912,2.283c-1.188,0.446-2.379,0.935-3.689,0.772 c-0.784-0.097-2.236,0.588-2.236,0.588c-2.101,0.756-4.279,1.304-6.186,2.519c-0.924,0.589-1.899,1.359-3.09,0.942 c-0.92-0.321-2.083,0.087-2.645,0.655c-0.658,0.667-1.354,1.811-0.242,2.406c0.708,0.381,1.088,1.086,1.736,0.694 c0.772-0.468,1.229-1.236,1.896-1.133c1.63,0.256,3.031-1.197,4.662-1.59c2.015-0.482,4.034-1.289,6.076-1.524 c5.753-0.667,4.871,1.721,3.336,6.341c-0.702,2.113-1.677,4.513-1.075,6.589c0.226,0.774,0.656,1.459,0.022,2.161 c-0.655,0.727-0.893,2.089-0.718,2.987c0.233,1.213,1.13,2.427,1.905,3.551c0.579,0.838,2.246,0.839,2.241,2.125 c-0.005,1.237,1.161,0.605,1.891,0.852c0.882,0.296,1.159,0.948,1.237,1.86c0.062,0.716,0.414,1.798-0.568,1.97 c-2.112,0.369-4.037,1.393-5.705,2.733C-270.866,166.342-272.021,167.112-273.116,167.96z"}],e=paper.add(d);e.transform("S0.8T325,"+(c-145));var f=paper.text(65,c+e.getBBox().height,"jugador");f.attr({"font-size":16,"font-family":"Handlee",fill:"white"});var g=paper.set([e,f]);optionsSet.push(g),MyRaphaelUtils.addDragAndDropCapabilityToPaletteOption(g),c+=65;var h=7;for(var i in paletteOptions){var j=paletteOptions[i],k=paper.path(j.path).attr({fill:j.color});k.transform("S1.3T50,"+c);var l=paper.text(65,c+k.getBBox().height+h,i);l.attr({"font-size":17,"font-family":"Handlee",fill:"white"}),g=paper.set([k,l]),optionsSet.push(g),MyRaphaelUtils.addDragAndDropCapabilityToPaletteOption(g),b++,c+=65}var m=[{stroke:"none",fill:"#010103",type:"path",path:"M13.618,3.6h-0.15V3.45h-0.15V3.6h-0.15l-0.15,0.15l-0.15,1.2l-0.15,0.6l-0.15,0.6v0.6l-0.15,0.75l-0.15,1.2 l-0.15,0.6v0.6l-0.15,1.2l-0.3,1.05v0.75l-0.15,0.9v0.75v0.75l-0.15,0.15h0.15v0.15v0.15h0.15l0.15,0.15h0.15l0.75,0.15h0.3 l0.45,0.15h0.45h0.3h0.45l-0.15,0.75v0.6v0.6l-0.15,0.9l-0.15,0.75l-0.15,0.75l-0.15,0.75v0.6l-0.15,0.6v0.6v0.75v0.6v0.6v0.6v0.6 v0.45v0.45l0.15,0.3v0.45v0.45l0.15,0.3v0.9l0.3,1.05l0.15,1.05l0.15,0.6v0.45l0.15,0.6v0.6l0.15,0.6v0.6v0.75v0.6v0.6v0.75v0.6 l-0.15,0.6v0.75v0.6l-0.15,0.75v0.6l-0.3,1.35l-0.15,1.35l-0.15,1.5l-0.3,1.35l-0.15,1.35l-0.3,1.351l-0.15,1.199l-0.3,1.351 l-0.3,1.2l-0.3,1.35l-0.3,1.35l-0.3,1.5l-0.45,1.95l-0.3,1.05l-0.15,0.9l-0.15,0.75l-0.15,0.9l-0.3,1.649l-0.15,0.9l-0.15,1.05 l-0.15,0.6v0.75L9.568,69v0.6L9.418,70.2v0.6V72v1.2v1.05l-0.15,1.05v0.9v0.449l-0.15,0.45v0.45L8.968,78l-0.15,1.35v0.75l-0.15,0.3 V80.7V81v0.45l-0.15,0.75v1.35v0.6v0.75V85.5v0.3l0.15,0.3v0.3V86.7V87l0.15,0.3v0.3l0.15,0.3V88.2l0.15,0.3l0.15,0.149l0.15,0.15 v0.3l0.15,0.15l0.15,0.149l0.15,0.15l0.15,0.15l0.15,0.149l0.15,0.15l0.15,0.149l0.15,0.15h0.15l0.15,0.15l0.15,0.149l0.45,0.15 l0.15,0.149l0.3,0.15l0.6,0.3l0.45,0.15l0.6,0.149l0.6,0.301l0.3,0.149h0.3l0.3,0.15l0.45,0.149h0.3l0.3,0.15h0.3h0.45l0.3,0.15h0.3 h0.3l0.3-0.15h0.3h0.45l0.15-0.15h0.15h0.15l0.15-0.149h0.15l0.15-0.15V91.95h0.15V91.8v-0.15V91.5l0.15-0.15V91.2v-0.301v-0.3v-0.3 V90v-0.3v-0.301l-0.15-0.149V89.1V88.95V88.8l-0.15-0.45l-0.3-0.75l-0.3-0.75l-0.15-0.75l-0.15-0.45l-0.15-0.3v-0.45l-0.15-0.3 l-0.15-0.6l-0.15-0.75V82.5l-0.15-0.601v-0.75l-0.15-0.75v-0.75l-0.15-0.75v-0.75V77.25V76.5v-0.9v-0.75V73.95V73.2V72.6V72 l0.15-0.75v-0.601v-0.6l0.15-0.6l0.15-1.351l0.15-0.75V66.6l0.15-0.75l0.15-0.75l0.3-1.5l0.15-1.5l0.3-1.649l0.3-1.5l0.45-1.5 l0.3-1.5l1.65-7.801l0.45-2.25l0.45-2.25l0.3-1.2l0.15-1.05l0.15-1.05l0.3-1.2l0.15-1.05l0.15-1.05l0.15-0.9l0.15-1.05l0.15-1.05 l0.15-1.05l0.15-1.05v-0.9l0.15-1.05l0.15-1.05v-0.9l0.15-1.05l0.15-1.95l0.15-2.1v-1.5l0.15-0.75v-0.75v-0.9V18.3v-0.75h0.15 l0.3,0.15h0.15l0.15,0.15h0.15h0.15h0.15h0.3h0.15h0.15V17.7h0.15h0.15l0.15-0.15l0.15-0.15l0.15-0.15h0.15l0.15-0.15h0.15h0.15 h0.15h0.15h0.15l0.15,0.15l0.75,0.3l0.6,0.45l0.75,0.45l0.75,0.45l0.45,0.3l0.3,0.15l0.45,0.3l0.3,0.3l0.3,0.15l0.45,0.3l0.3,0.3 l0.301,0.3l0.75,0.75l0.6,0.6l1.5,1.35l0.6,0.6l0.75,0.6l0.601,0.6l0.6,0.75l0.15,0.3l0.3,0.3l0.3,0.3l0.3,0.3l0.301,0.45l0.3,0.45 l0.45,0.6l0.3,0.45l0.3,0.45l0.3,0.6l0.15,0.45l0.3,0.45l0.3,0.6l0.15,0.6l0.3,0.6l0.15,0.45l0.3,0.6v0.3l0.45-0.45l0.449-0.45 l0.601-0.6l0.45-0.75l0.6-0.6l0.3-0.45l0.3-0.3l0.301-0.45l0.3-0.3l0.149-0.45l0.301-0.45l0.3-0.45l0.45-0.6l0.3-0.45l0.3-0.6 l0.15-0.6l0.3-0.45l0.3-0.6l0.3-0.6l0.15-0.45L52.318,24l0.301-0.45l0.149-0.6l0.15-0.45l0.149-0.45l0.15-0.45l0.3-0.6l0.15-0.45 l0.149-0.45v-0.6l0.15-0.45l0.15-0.45l0.149-0.6l0.15-0.45v-0.6l0.149-0.45v-0.45l0.15-0.45v-0.45l0.15-0.45v-0.45V13.8v-0.45V12.9 l0.149-0.45V12v-0.45V11.1l-0.149-0.45V10.2V9.75v-0.9l-0.15-0.75V7.35l-0.15-0.75l-0.149-0.9l-0.15-0.75L54.119,4.2l-0.15-0.75 l-0.15-0.75l-0.149-0.6l-0.3-0.6l-0.15-0.45l-0.3-0.9V0l-0.3,0.15l-0.45,0.45l-0.45,0.3l-0.45,0.45l-0.45,0.3L50.369,2.1l-0.45,0.3 l-0.45,0.15l-0.3,0.3l-0.45,0.3l-0.45,0.3l-0.45,0.15l-0.449,0.3l-0.45,0.15l-0.3,0.15l-0.301,0.15L45.869,4.5l-0.601,0.3l-0.6,0.15 L44.068,5.1l-0.449,0.15L43.018,5.4l-0.6,0.15l-0.45,0.15h-0.45l-0.45,0.15h-0.3L39.869,6l-0.9,0.15h-0.9L37.168,6.3h-0.9h-0.75 l-0.75,0.15h-0.75h-0.6l-0.75-0.15h-0.6h-0.75h-0.6l-0.75-0.15L28.918,6h-1.05V5.7l0.15-0.3V4.8l0.15-0.15V4.5V4.35V4.2V4.05V3.9 h-0.15V3.75l-0.15-0.15h-0.15V3.45h-0.15h-0.15l-0.3-0.15h-0.3l-0.6-0.15L24.568,3l-0.9-0.15l-0.9-0.15l-1.35-0.3l-0.75-0.15h-0.6 l-0.9-0.15h-0.45l-0.45-0.15h-0.3h-0.15h-0.15h-0.15h-0.15V2.1h-0.15v0.15V2.4l-0.15,0.15V3v0.45l-0.15,0.9l-0.9-0.3l-1.35-0.3 l-1.2-0.15H13.618z"}],n=paper.add(m).attr({fill:"brown"});n.transform("R45S0.5T30,"+(c-30));var o=paper.text(65,c+n.getBBox().height+h,"hacha");o.attr({"font-size":17,"font-family":"Handlee",fill:"white"});var p=paper.set([n,o]);optionsSet.push(p),MyRaphaelUtils.addDragAndDropCapabilityToPaletteOption(p),b++,c+=65;var q=[{path:"M487.224,285.565c3.4,5.88,1.391,13.33-4.49,16.73l-49.68,28.67l34.47,2.77 c4.23,0.34,7.78,2.76,9.71,6.18c1.16,2.05,1.73,4.47,1.53,7.01c-0.54,6.77-6.42,11.78-13.189,11.24l-69.921-5.6l-61.52,35.52 l40.11,23.17l21.409,12.359l69.921-5.59c6.77-0.54,12.649,4.471,13.189,11.24c0.2,2.54-0.37,4.96-1.53,7.01 c-1.93,3.42-5.479,5.84-9.71,6.181l-34.46,2.76l49.67,28.67c5.881,3.4,7.891,10.86,4.49,16.74 c-3.39,5.88-10.859,7.87-16.74,4.479l-49.67-28.68l14.84,31.229c1.82,3.83,1.5,8.12-0.5,11.5c-1.199,2.03-3.01,3.73-5.3,4.82 c-6.13,2.92-13.42,0.34-16.33-5.79l-30.12-63.35l-61.52-35.53v46.32v24.729l39.8,57.76c3.851,5.591,2.45,13.19-3.14,17.04 c-2.09,1.44-4.47,2.15-6.83,2.171c-3.93,0.039-7.8-1.82-10.21-5.311l-19.62-28.47v57.37c0,6.79-5.46,12.25-12.25,12.25 s-12.25-5.46-12.25-12.25v-57.37l-19.62,28.47c-2.41,3.49-6.28,5.35-10.21,5.311c-2.36-0.021-4.74-0.73-6.83-2.171 c-5.59-3.85-6.99-11.449-3.14-17.04l39.8-57.76v-24.729v-46.32l-40.12,23.16l-21.41,12.37l-30.12,63.35 c-2.91,6.13-10.2,8.71-16.33,5.79c-2.29-1.09-4.1-2.79-5.3-4.82c-2-3.38-2.32-7.67-0.5-11.5l14.85-31.239l-49.68,28.689 c-5.88,3.391-13.34,1.4-16.73-4.479c-3.4-5.88-1.4-13.34,4.48-16.74l49.67-28.67l-34.46-2.76c-4.23-0.341-7.78-2.761-9.71-6.181 c-1.16-2.05-1.73-4.47-1.53-7.01c0.54-6.77,6.42-11.78,13.19-11.24l69.92,5.59l21.41-12.359l40.12-23.17l-61.53-35.52l-69.92,5.6 c-6.77,0.54-12.65-4.47-13.19-11.24c-0.2-2.54,0.37-4.96,1.53-7.01c1.93-3.42,5.48-5.84,9.71-6.18l34.47-2.75l-49.68-28.69 c-5.88-3.4-7.88-10.85-4.48-16.73c3.39-5.88,10.85-7.89,16.73-4.49l49.68,28.69l-14.85-31.24c-1.82-3.83-1.5-8.11,0.5-11.49 c1.2-2.03,3.01-3.74,5.3-4.83c6.13-2.92,13.42-0.33,16.33,5.8l30.12,63.34l61.53,35.53v-46.31v-24.73l-39.8-57.76 c-3.85-5.58-2.45-13.19,3.14-17.04c2.09-1.44,4.47-2.15,6.83-2.17c3.93-0.04,7.8,1.82,10.21,5.31l19.62,28.47v-57.37 c0-6.79,5.46-12.25,12.25-12.25s12.25,5.46,12.25,12.25v57.37l19.62-28.47c2.41-3.49,6.28-5.35,10.21-5.31 c2.36,0.02,4.74,0.73,6.83,2.17c5.59,3.85,6.99,11.46,3.14,17.04l-39.8,57.76v24.73v46.31l61.52-35.53l30.12-63.34 c2.91-6.13,10.2-8.72,16.33-5.8c2.29,1.09,4.101,2.8,5.3,4.83c2,3.38,2.32,7.66,0.5,11.49l-14.84,31.23l49.67-28.68 C476.364,277.674,483.834,279.684,487.224,285.565z",stroke:"none",fill:"#FFFFFF",type:"path"},{path:"M498.554,279.034c6.9,11.95,2.66,27.68-9.28,34.58l-14.51,8.38c5.91,2.02,10.86,6.18,13.86,11.5 c2.41,4.27,3.58,9.32,3.17,14.47c-1.101,13.76-13.5,24.33-27.26,23.23l-65.86-5.27l-38.4,22.16l20.511,11.84l17.89,10.33 l65.86-5.26c13.76-1.101,26.159,9.47,27.26,23.229c0.41,5.15-0.76,10.2-3.17,14.47c-3,5.32-7.95,9.471-13.851,11.511l14.5,8.359 c11.95,6.9,16.181,22.63,9.28,34.601c-6.91,11.96-22.65,16.16-34.6,9.26l-14.511-8.37c1.2,6.14,0.07,12.5-3.029,17.75 c-2.5,4.23-6.29,7.771-10.95,9.98c-12.45,5.92-27.811,0.489-33.74-11.98l-28.38-59.68l-38.38-22.17v23.67v20.66l37.49,54.409 c7.83,11.37,4.87,27.391-6.49,35.221c-4.26,2.939-9.22,4.439-14.12,4.489c-6.1,0.061-12.17-2.149-16.88-6.239v16.75 c0,13.8-11.53,25.33-25.33,25.33s-25.33-11.53-25.33-25.33v-16.75c-4.71,4.09-10.78,6.3-16.88,6.239 c-4.89-0.05-9.86-1.55-14.12-4.489c-11.36-7.83-14.32-23.851-6.49-35.221l37.49-54.409v-20.66v-23.67l-20.51,11.84l-17.88,10.33 l-28.38,59.68c-5.93,12.47-21.28,17.9-33.74,11.98c-4.66-2.21-8.45-5.75-10.95-9.98c-3.1-5.25-4.23-11.62-3.03-17.75l-14.51,8.37 c-11.95,6.9-27.69,2.689-34.59-9.26c-6.9-11.95-2.69-27.69,9.27-34.601l14.5-8.359c-5.91-2.04-10.85-6.19-13.85-11.511 c-2.41-4.27-3.58-9.319-3.17-14.47c1.1-13.76,13.5-24.33,27.26-23.229l65.86,5.26l17.89-10.33l20.51-11.84l-38.4-22.16 l-65.86,5.27c-13.76,1.1-26.16-9.47-27.26-23.23c-0.41-5.15,0.76-10.2,3.17-14.47c3-5.32,7.95-9.48,13.86-11.5l-14.51-8.38 c-11.95-6.9-16.16-22.64-9.27-34.58c6.9-11.95,22.63-16.19,34.59-9.29l14.51,8.38c-1.2-6.13-0.07-12.49,3.03-17.74 c2.49-4.21,6.26-7.76,10.95-9.99c12.47-5.93,27.82-0.47,33.74,12l28.38,59.66l38.39,22.17v-23.66v-20.66l-37.49-54.41 c-7.83-11.37-4.87-27.39,6.49-35.22c4.26-2.94,9.23-4.44,14.12-4.49c6.1-0.06,12.17,2.15,16.88,6.24v-16.75 c0-13.8,11.53-25.33,25.33-25.33s25.33,11.53,25.33,25.33v16.75c4.71-4.09,10.78-6.3,16.88-6.24c4.9,0.05,9.86,1.55,14.12,4.49 c11.36,7.83,14.32,23.85,6.49,35.22l-37.49,54.41v20.66v23.66l38.38-22.17l28.38-59.66c5.92-12.47,21.271-17.93,33.74-12 c4.689,2.23,8.46,5.78,10.95,9.99c3.1,5.25,4.229,11.61,3.029,17.74l14.511-8.38 C475.914,262.844,491.644,267.074,498.554,279.034z M482.734,302.295c5.881-3.4,7.891-10.85,4.49-16.73 c-3.39-5.88-10.859-7.89-16.74-4.49l-49.67,28.68l14.84-31.23c1.82-3.83,1.5-8.11-0.5-11.49c-1.199-2.03-3.01-3.74-5.3-4.83 c-6.13-2.92-13.42-0.33-16.33,5.8l-30.12,63.34l-61.52,35.53v-46.31v-24.73l39.8-57.76c3.851-5.58,2.45-13.19-3.14-17.04 c-2.09-1.44-4.47-2.15-6.83-2.17c-3.93-0.04-7.8,1.82-10.21,5.31l-19.62,28.47v-57.37c0-6.79-5.46-12.25-12.25-12.25 s-12.25,5.46-12.25,12.25v57.37l-19.62-28.47c-2.41-3.49-6.28-5.35-10.21-5.31c-2.36,0.02-4.74,0.73-6.83,2.17 c-5.59,3.85-6.99,11.46-3.14,17.04l39.8,57.76v24.73v46.31l-61.53-35.53l-30.12-63.34c-2.91-6.13-10.2-8.72-16.33-5.8 c-2.29,1.09-4.1,2.8-5.3,4.83c-2,3.38-2.32,7.66-0.5,11.49l14.85,31.24l-49.68-28.69c-5.88-3.4-13.34-1.39-16.73,4.49 c-3.4,5.88-1.4,13.33,4.48,16.73l49.68,28.69l-34.47,2.75c-4.23,0.34-7.78,2.76-9.71,6.18c-1.16,2.05-1.73,4.47-1.53,7.01 c0.54,6.77,6.42,11.78,13.19,11.24l69.92-5.6l61.53,35.52l-40.12,23.17l-21.41,12.359l-69.92-5.59 c-6.77-0.54-12.65,4.471-13.19,11.24c-0.2,2.54,0.37,4.96,1.53,7.01c1.93,3.42,5.48,5.84,9.71,6.181l34.46,2.76l-49.67,28.67 c-5.88,3.4-7.88,10.86-4.48,16.74c3.39,5.88,10.85,7.87,16.73,4.479l49.68-28.689l-14.85,31.239c-1.82,3.83-1.5,8.12,0.5,11.5 c1.2,2.03,3.01,3.73,5.3,4.82c6.13,2.92,13.42,0.34,16.33-5.79l30.12-63.35l21.41-12.37l40.12-23.16v46.32v24.729l-39.8,57.76 c-3.85,5.591-2.45,13.19,3.14,17.04c2.09,1.44,4.47,2.15,6.83,2.171c3.93,0.039,7.8-1.82,10.21-5.311l19.62-28.47v57.37 c0,6.79,5.46,12.25,12.25,12.25s12.25-5.46,12.25-12.25v-57.37l19.62,28.47c2.41,3.49,6.28,5.35,10.21,5.311 c2.36-0.021,4.74-0.73,6.83-2.171c5.59-3.85,6.99-11.449,3.14-17.04l-39.8-57.76v-24.729v-46.32l61.52,35.53l30.12,63.35 c2.91,6.13,10.2,8.71,16.33,5.79c2.29-1.09,4.101-2.79,5.3-4.82c2-3.38,2.32-7.67,0.5-11.5l-14.84-31.229l49.67,28.68 c5.881,3.391,13.351,1.4,16.74-4.479c3.4-5.88,1.391-13.34-4.49-16.74l-49.67-28.67l34.46-2.76c4.23-0.341,7.78-2.761,9.71-6.181 c1.16-2.05,1.73-4.47,1.53-7.01c-0.54-6.77-6.42-11.78-13.189-11.24l-69.921,5.59l-21.409-12.359l-40.11-23.17l61.52-35.52 l69.921,5.6c6.77,0.54,12.649-4.47,13.189-11.24c0.2-2.54-0.37-4.96-1.53-7.01c-1.93-3.42-5.479-5.84-9.71-6.18l-34.47-2.77 L482.734,302.295z",stroke:"none",fill:"#FFFFFF",type:"path"}],r=paper.add(q).attr({fill:"white"});r.transform("S0.1T-243,113");var s=paper.text(65,c+r.getBBox().height+h,"pecho frio");s.attr({"font-size":17,"font-family":"Handlee",fill:"white"});var t=paper.set([r,s]);optionsSet.push(t),MyRaphaelUtils.addDragAndDropCapabilityToPaletteOption(t),b++,c+=65;var u=Backbone.Model.extend({defaults:{name:"newPlayer",team:"unknown",svgText:null,svgNumber:1,playerId:this.id},initialize:function(){this.bind("error",function(a,b){alert(b)})},validate:function(a){var b=a.number;if(b>100)return"Number can't be greater than 100.";if(b<1)return"Number must be grater than 0."}}),v=Backbone.View.extend({defaults:{svgText:null},template:_.template($("#player-template").html()),events:{"click .deleteImg":"removePlayer","change .playerName":"updatePlayerName","change .playerNumber":"updatePlayerNumber"},removePlayer:function(){$(this.el).html(""),modelViewMap[this.model.get("playerId")].remove(),modelViewMap[this.model.get("playerId")]=null,x.remove(this.model)},updatePlayerName:function(a){var b=$(a.currentTarget).val();this.model.set({name:b})},updatePlayerNumber:function(a){var b=$(a.currentTarget).val();this.model.set({number:b})},initialize:function(){_.bindAll(this,"render"),this.model.on("change",this.render),this.model.on("destroy",this.removePlayer)},render:function(){return $(this.el).html(this.template(this.model.toJSON())),this.model.get("svgText").attr({text:this.model.get("name")}),this.model.get("svgNumber").attr({text:this.model.get("number")}),this}}),w=Backbone.Collection.extend({model:u,initialize:function(){this.bind("add",function(a){this.length>=selectedTeamSize&&$("#newPlayerButton").attr({disabled:"true"})}),this.bind("remove",function(a){x.length<selectedTeamSize&&$("#newPlayerButton").removeAttr("disabled")})}}),x=new w,y=Backbone.View.extend({el:$("body"),initialize:function(){},events:{"click #exportButton":"exportToImage","change #pitchType":"pitchSizeChanged"},exportToImage:function(a){optionsSet.forEach(function(a){a.hide()});var b=paper.text(165,200,"ComoFormamos.com").transform("S3R-90"),c=$("#canvas_container").html(),d=document.createElement("canvas");d.setAttribute("width",c.offsetWidth),d.setAttribute("height",c.offsetHeight),d.setAttribute("style","position: absolute; top: "+ -c.offsetHeight*2+"px;"+"left: "+ -c.offsetWidth*2+"px;"),canvg(d,c);var e=d.toDataURL("image/png"),f="",g="1. Hace click derecho -> 'guardar como...' sobre la imagen y guardala donde quieras -> 2. Agregala como archivo adjunto a este mail -> 3. Compartila a tus amigos! No te olvides de avisar a que hora y donde se juntan!",h="Asi vamos a formar en el partido!",i="mailto:"+f+"?"+"subject="+h+"&"+"body="+g,j;j=window.open(i,"_blank","scrollbars=yes,resizable=yes,width=500,height=500"),j&&j.close(),window.location=e,optionsSet.forEach(function(a){a.show()}),b.remove()},pitchSizeChanged:function(){selectedTeamSize=$("#pitchType").attr("value")},createNewModel:function(a){if(x.length<selectedTeamSize){var b=a.items[1],c=b.getBBox(),d=b.attr("x"),e=b.attr("y"),f=paper.text(b.matrix.x(d,e),b.matrix.y(d,e)+15,playerCounter++);f.attr({"font-size":14}),a.push(f),b.attr({fill:"black"});var g=new u({name:b.attr("text"),number:playerCounter,svgText:b,svgNumber:a.items[2]});g.set({playerId:g.cid}),x.add(g),modelViewMap[g.get("playerId")]=a;var h=new v({model:g});$("#playersCreated").append(h.render().el)}else a.remove(),a.clear()}}),B=new y;eve.on("playerDropped",B.createNewModel),eve.on("playerDroppedOutOfRange",A)});